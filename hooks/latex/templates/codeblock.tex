%\leavevmode % Required to avoid a bug in the tcolorbox package
\begin{code}{\VAR{language|default('text')}}{\BLOCK{if filename}\VAR{filename}\BLOCK{endif}}{
    \BLOCK{- if baselinestretch}baselinestretch=\VAR{baselinestretch}, \BLOCK{endif}
    \BLOCK{- if linenos}linenos, \BLOCK{endif -}
    \BLOCK{- if highlight }, highlightlines={\VAR{','.join(highlight)}}\BLOCK{endif -}
}
\VAR{code}\end{code}
